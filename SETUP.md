# Setup Guide - Full Stack Application

## ML-Based Drone Firmware Tampering Detection System

### Prerequisites

- Python 3.8+
- Node.js 18+
- PostgreSQL 15+
- MongoDB 7+
- Docker (optional, for containerized setup)

### Option 1: Docker Setup (Recommended)

1. **Start all services:**
```bash
docker-compose up -d
```

2. **Access the application:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs

### Option 2: Manual Setup

#### Backend Setup

1. **Navigate to backend directory:**
```bash
cd backend
```

2. **Create virtual environment:**
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. **Install dependencies:**
```bash
pip install -r requirements.txt
```

4. **Set up environment variables:**
```bash
cp .env.example .env
# Edit .env with your database credentials
```

5. **Set up databases:**
- PostgreSQL: Create database `drone_forensics`
- MongoDB: No setup needed, will create automatically

6. **Run backend:**
```bash
python main.py
# Or: uvicorn main:app --reload
```

#### Frontend Setup

1. **Navigate to frontend directory:**
```bash
cd frontend
```

2. **Install dependencies:**
```bash
npm install
```

3. **Set up environment:**
Create `.env` file:
```
VITE_API_URL=http://localhost:8000
```

4. **Run frontend:**
```bash
npm run dev
```

### Database Setup

#### PostgreSQL

```bash
# Create database
createdb drone_forensics

# Or using psql
psql -U postgres
CREATE DATABASE drone_forensics;
```

#### MongoDB

MongoDB will automatically create the database when first accessed. No manual setup required.

### Model Files

Ensure you have trained models in the `models/` directory:
- `feature_scaler.pkl`
- `feature_selector.pkl`
- `label_encoders.pkl`
- `lstm_model_final.h5`
- `autoencoder_model_final.h5`
- `random_forest_model.pkl`
- `isolation_forest_model.pkl`
- `ensemble_model.pkl`
- `autoencoder_threshold.pkl`

These are generated by running the Jupyter notebooks in the `notebooks/` directory.

### Directory Structure

```
Freed/
├── backend/          # FastAPI backend
├── frontend/         # React frontend
├── notebooks/        # Jupyter notebooks
├── models/           # Trained ML models
├── data/             # Datasets
├── results/          # Analysis results
├── evidence/         # Uploaded firmware files
└── database/         # Database scripts
```

### API Endpoints

- `GET /` - API information
- `GET /health` - Health check
- `POST /api/upload` - Upload firmware CSV
- `POST /api/analyze` - Analyze firmware
- `GET /api/analyses` - Get all analyses
- `GET /api/analyses/{firmware_id}` - Get specific analysis
- `GET /api/dashboard/stats` - Get dashboard statistics

### Troubleshooting

**Backend issues:**
- Ensure models are in `models/` directory
- Check database connections in `.env`
- Verify all dependencies are installed

**Frontend issues:**
- Check `VITE_API_URL` in `.env`
- Ensure backend is running
- Clear browser cache

**Database issues:**
- Verify PostgreSQL is running
- Check connection strings
- Ensure MongoDB is accessible

### Production Deployment

For production:
1. Set proper environment variables
2. Use production-grade database instances
3. Configure CORS properly
4. Set up SSL/TLS
5. Use process managers (PM2, systemd)
6. Configure reverse proxy (Nginx)

### Support

See main README.md for more information.





